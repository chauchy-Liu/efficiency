# mybatis-plus 配置
mybatis-plus:
    # 搜索指定包别名
    # type-aliases-package: com.tianyi.framework.**.domain,com.tianyi.framework.**.model
    # 配置mapper的扫描，找到所有的mapper.xml映射文件
    mapper-locations: classpath*:com/tianyi/**/mapper/*Mapper.xml
    # 加载全局的配置文件
    config-location: classpath:mybatis/mybatis-config.xml
    global-config:
        db-config:
            id-type: assign_id
            # 逻辑已删除值(默认为 1)
            logic-delete-value: 1
            # 逻辑未删除值(默认为 0)
            logic-not-delete-value: 0
        # 关闭logo
        banner: true

spring:
    # 国际化配置
    messages:
        # 国际化资源文件路径
        basename: i18n/templatemessages
    # jackson 配置
    jackson:
        # 设置时区(东8区)
        time-zone: GMT+8
    data:
        # redis 配置
        redis:
            # 地址
            host: 173.17.4.18 #redis.dev.snpit.com
            # 端口，默认为6379
            port: 8379
            # 数据库索引
            database: 0
            # 密码
            password: RD2022*V3D #Lanzhoudev1234 #wbWuibMcmWTpHB6JuufA3WztRwpdGLMQ
            # 连接超时时间
            timeout: 10s
            lettuce:
                pool:
                    # 连接池中的最小空闲连接
                    min-idle: 0
                    # 连接池中的最大空闲连接
                    max-idle: 8
                    # 连接池的最大数据库连接数
                    max-active: 8
                    # #连接池最大阻塞等待时间（使用负值表示没有限制）
                    max-wait: -1ms
    # cache 缓存配置内容,需要开启缓存注解,才可使用 @EnableCaching
    cache:
        type: redis
    # 数据源配置
    datasource:
        type: com.alibaba.druid.pool.DruidDataSource
        driver-class-name: com.mysql.cj.jdbc.Driver
        druid:
            url: jdbc:mysql://173.17.4.15:3307/cloud_core?useUnicode=true&characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&useSSL=true&serverTimezone=GMT%2B8&allowMultiQueries=true&rewriteBatchedStatements=true
            username: root
            password: smartisolar@123,.
            # 初始连接数
            initial-size: 5
            # 最小连接池数量
            min-idle: 10
            # 最大连接池数量
            maxActive: 20
            # 配置获取连接等待超时的时间
            maxWait: 60000
            #配置间隔多久才进行一次检测，检测需要关闭的空闲连接，单位是毫秒
            timeBetweenEvictionRunsMillis: 60000
            # 配置一个连接在池中最小生存的时间，单位是毫秒
            minEvictableIdleTimeMillis: 300000
            # 配置一个连接在池中最大生存的时间，单位是毫秒
            maxEvictableIdleTimeMillis: 900000
            # 配置检测连接是否有效
            validationQuery: SELECT 1 FROM DUAL
            testWhileIdle: true
            testOnBorrow: false
            testOnReturn: false
            # 监控相关的全局配置
            web-stat-filter:
                enabled: true
            stat-view-servlet:
                enabled: true
                allow: # 设置白名单,不填泽允许所有访问
                url-pattern: /druid/*
                login-username: druid  # 控制台管理用户名
                login-password: 123456 # 控制台管理密码
            filter:
                stat:
                    log-slow-sql: true # 慢SQL记录
                    slow-sql-millis: 100
                    merge-sql: true
                wall:
                    config:
                        multi-statement-allow: true

analysis:
    show-log: true
    base-url: "http://173.17.4.11:8889" #"http://10.191.64.90:8889"
    device-id: 1865036680801583104
    org-id: 
    function-id: "queryPointHistory"
